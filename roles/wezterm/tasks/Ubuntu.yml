---
# These steps are based on the official wezterm documentation: https://wezfurlong.org/wezterm/install/linux.html#__tabbed_1_3
- name: "Add WezTerm GPG key"
  ansible.builtin.shell: "curl -fsSL https://apt.fury.io/wez/gpg.key | sudo gpg --yes --dearmor -o /usr/share/keyrings/wezterm-fury.gpg"
  become: true

- name: "Add WezTerm repository"
  ansible.builtin.shell: "echo 'deb [signed-by=/usr/share/keyrings/wezterm-fury.gpg] https://apt.fury.io/wez/ * *' | sudo tee /etc/apt/sources.list.d/wezterm.list"
  become: true

- name: "Update apt package cache"
  ansible.builtin.apt:
    update_cache: yes
  become: true

- name: "Install WezTerm package"
  ansible.builtin.apt:
    name: wezterm
    state: present
  become: true
